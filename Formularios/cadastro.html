<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
<div class="form">
<h1>Cadastro</h1>
    <form id="cadastroForm" action="cadastro.php" method="POST">
            <p>Nome Completo</p>
            <input type="text" id="input_nome" class="input" placeholder="Insira seu nome completo" name="nome" required>

            <p>E-mail</p>
            <input type="text" id="input_email" class="input" placeholder="Insira seu e-mail" name="email" required>

            <p>Telefone</p>
            <input type="number" id="input_tel" class="input" placeholder="Insira seu telefone" name="telefone"maxlength="9" required>

            <p>CPF</p>
            <input type="number" id="input_cpf" class="input" placeholder="Insira seu CPF" name="cpf" maxlength="11" required>

            <p>Senha</p>
            <input type="password" id="input_senha" class="input" placeholder="Insira sua senha" name="senha" required>

            <p>Confirmar Senha</p>
            <input type="password" id="input_confirmaSenha" class="input" placeholder="Confirme sua senha" name="confirmaSenha" required>

            <br><br>
            <button class="btn_entrar" onclick="window.location.href = 'login.html'">Entrar</button>
            <br><br>
            <button class="btn_cadastrar" type="submit">Cadastrar</button>
        </div>
    </form>
</div>

</body>

<script>
    document.getElementById("cadastroForm").addEventListener("submit", function(event){
    
    const nome = document.getElementById("input_nome").value.trim();
    const email = document.getElementById("input_email").value.trim();
    const telefone = document.getElementById("input_tel").value.trim();
    const cpf = document.getElementById("input_cpf").value.trim();
    const senha = document.getElementById("input_senha").value.trim();
    const confirmaSenha = document.getElementById("input_confirmaSenha").value.trim();

    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    const telefoneRegex = /^\(?\d{2}\)?\s?\d{4,5}-?\d{4}$/;

    const cpfRegex = /^\d{11}$/;

    if(!emailRegex.test(email)){
        alert("Por favor, insira um e-mail válido.");
        event.preventDefault();
        return;
    }

    if(!telefoneRegex.test(telefone)){
        alert("Por favor, insira um telefone válido.");
        event.preventDefault();
        return;
    }

    if(!cpfRegex.test(cpf)){
        alert("O CPF deve conter exatamente 11 números, sem ponts ou traços.");
        event.preventDefault();
        return;
    }

    if(senha !== confirmaSenha){
        alert("As senhas não coincidem. Verifique novamente.");
        event.preventDefault();
        return;
    }

})
</script>

</html>